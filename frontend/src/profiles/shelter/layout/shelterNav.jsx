import { useState } from "react";
import { NavLink, useNavigate, useLocation } from "react-router-dom";
import {
  AppBar,
  Avatar,
  Box,
  Drawer,
  IconButton,
  List,
  ListItem,
  ListItemButton,
  ListItemIcon,
  ListItemText,
  Menu,
  MenuItem,
  Toolbar,
  Typography,
  useMediaQuery,
} from "@mui/material";
import { AccountCircle, Logout, Menu as MenuIcon } from "@mui/icons-material";
import { useContextData } from "../../../context/context";



const DashboardIcon = () => (
  <svg width="20" height="19" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.0005 1.37569e-08C12.0755 -0.000108796 14.0991 0.645256 15.7909 1.84665C17.4827 3.04804 18.7589 4.74595 19.4426 6.70506C20.1263 8.66417 20.1837 10.7874 19.6067 12.7806C19.0297 14.7737 17.847 16.5381 16.2225 17.829C16.0457 17.9695 15.8264 18.046 15.6005 18.046H4.40053C4.17463 18.046 3.9554 17.9695 3.77852 17.829C2.15402 16.5381 0.971328 14.7737 0.394361 12.7806C-0.182606 10.7874 -0.12527 8.66417 0.558424 6.70506C1.24212 4.74595 2.51831 3.04804 4.21011 1.84665C5.90192 0.645256 7.92554 -0.000108796 10.0005 1.37569e-08ZM14.2075 5.839C14.02 5.65153 13.7657 5.54621 13.5005 5.54621C13.2354 5.54621 12.9811 5.65153 12.7935 5.839L10.5175 8.113C10.2308 8.03677 9.93067 8.02519 9.63891 8.0791C9.34714 8.13302 9.07099 8.25108 8.83043 8.42476C8.58986 8.59844 8.39089 8.82339 8.24788 9.08337C8.10487 9.34334 8.02141 9.63183 8.00352 9.928L8.00052 10.046C8.00105 10.3303 8.0622 10.6113 8.17989 10.8702C8.29759 11.129 8.46913 11.3598 8.68306 11.5471C8.897 11.7344 9.14842 11.8739 9.42055 11.9564C9.69268 12.0388 9.97926 12.0623 10.2612 12.0253C10.5431 11.9882 10.8139 11.8915 11.0555 11.7415C11.297 11.5915 11.5038 11.3917 11.6621 11.1555C11.8204 10.9192 11.9264 10.652 11.9732 10.3715C12.02 10.091 12.0065 9.80382 11.9335 9.529L14.2075 7.253C14.395 7.06547 14.5003 6.81116 14.5003 6.546C14.5003 6.28084 14.395 6.02653 14.2075 5.839Z" fill="#1C1C26" />
  </svg>

);

const AppointmentIcon = () => (
 <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1292_308)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.4 2.4H16.2C16.6774 2.4 17.1352 2.58964 17.4728 2.92721C17.8104 3.26477 18 3.72261 18 4.2V16.2C18 16.6774 17.8104 17.1352 17.4728 17.4728C17.1352 17.8104 16.6774 18 16.2 18H1.8C1.32261 18 0.864773 17.8104 0.527208 17.4728C0.189642 17.1352 0 16.6774 0 16.2L0 4.2C0 3.72261 0.189642 3.26477 0.527208 2.92721C0.864773 2.58964 1.32261 2.4 1.8 2.4H3.6V0H4.8V2.4H13.2V0H14.4V2.4ZM7.2 9.6H3.6V8.4H7.2V9.6ZM14.4 8.4H10.8V9.6H14.4V8.4ZM7.2 13.2H3.6V12H7.2V13.2ZM10.8 13.2H14.4V12H10.8V13.2Z" fill="black"/>
</g>
<defs>
<clipPath id="clip0_1292_308">
<rect width="18" height="18" fill="white"/>
</clipPath>
</defs>
</svg>


);

const PatientsIcon = () => (
  <svg width="22" height="27" viewBox="0 0 22 27" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1291_19)">
<path d="M7.38542 3.67725C8.04187 3.67725 8.64419 3.92258 9.08262 4.37587C9.52106 4.82964 9.78125 5.47748 9.78125 6.259C9.78125 7.03668 9.52442 7.81725 9.10563 8.40806C8.68875 8.996 8.085 9.42725 7.38542 9.42725C6.68583 9.42725 6.08208 8.996 5.66521 8.40806C5.24642 7.81725 4.98958 7.03668 4.98958 6.25948C4.98958 5.47748 5.24977 4.82964 5.68869 4.37587C6.12665 3.92258 6.72896 3.67725 7.38542 3.67725ZM2.11458 7.98975C2.77104 7.98975 3.37335 8.23508 3.81179 8.68837C4.25023 9.14214 4.51042 9.78998 4.51042 10.5715C4.51042 11.3492 4.25358 12.1297 3.83479 12.7206C3.41792 13.3085 2.81417 13.7397 2.11458 13.7397C1.415 13.7397 0.81125 13.3085 0.394375 12.7206C-0.0244166 12.1297 -0.28125 11.3487 -0.28125 10.572C-0.28125 9.78998 -0.0210625 9.14214 0.417854 8.68837C0.855813 8.23508 1.45812 7.98975 2.11458 7.98975ZM10.5 11.3439C7.08642 11.3439 4.25838 14.2501 3.36808 17.8941C2.97325 19.5108 3.57556 21.2449 5.06098 22.0667C6.24117 22.7203 8.00737 23.3231 10.4995 23.3231C12.9921 23.3231 14.7584 22.7203 15.939 22.0667C17.424 21.2449 18.0263 19.5108 17.6314 17.8946C16.7416 14.2501 13.9131 11.3439 10.5 11.3439ZM18.8854 7.98975C18.229 7.98975 17.6266 8.23508 17.1887 8.68837C16.7498 9.14214 16.4896 9.78998 16.4896 10.5715C16.4896 11.3492 16.7464 12.1297 17.1652 12.7206C17.5821 13.3085 18.1858 13.7397 18.8854 13.7397C19.585 13.7397 20.1887 13.3085 20.6056 12.7206C21.0244 12.1297 21.2812 11.3492 21.2812 10.572C21.2812 9.78998 21.0211 9.14214 20.5826 8.68837C20.1442 8.23508 19.5419 7.98975 18.8854 7.98975ZM13.6146 3.67725C12.9581 3.67725 12.3558 3.92258 11.9179 4.37587C11.4789 4.82964 11.2188 5.47748 11.2188 6.259C11.2188 7.03668 11.4756 7.81725 11.8944 8.40806C12.3112 8.996 12.915 9.42725 13.6146 9.42725C14.3142 9.42725 14.9179 8.996 15.3348 8.40806C15.7536 7.81725 16.0104 7.03668 16.0104 6.25948C16.0104 5.47748 15.7502 4.82964 15.3118 4.37587C14.8734 3.92258 14.271 3.67725 13.6146 3.67725Z" fill="black"/>
</g>
<defs>
<clipPath id="clip0_1291_19">
<rect width="22" height="27" fill="white"/>
</clipPath>
</defs>
</svg>


);

const ReviewsIcon = () => (
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10 2.5L11.9584 7.3L17.1334 7.68333L13.1667 11.0333L14.4084 16.0667L10 13.3333L5.5917 16.0667L6.83337 11.0333L2.8667 7.68333L8.0417 7.3L10 2.5Z" fill="#1C1C26"/>
<path d="M10 2.5L8.0417 7.3L2.8667 7.68333L6.83337 11.0333L5.5917 16.0667L10 13.3333M10 2.5L11.9584 7.3L17.1334 7.68333L13.1667 11.0333L14.4084 16.0667L10 13.3333" stroke="#1C1C26" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
</svg>


);

const Profile = () => (
  <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.66667 4.95833C5.66667 4.20689 5.96518 3.48622 6.49653 2.95486C7.02788 2.42351 7.74855 2.125 8.5 2.125C9.25145 2.125 9.97212 2.42351 10.5035 2.95486C11.0348 3.48622 11.3333 4.20689 11.3333 4.95833C11.3333 5.70978 11.0348 6.43045 10.5035 6.9618C9.97212 7.49316 9.25145 7.79167 8.5 7.79167C7.74855 7.79167 7.02788 7.49316 6.49653 6.9618C5.96518 6.43045 5.66667 5.70978 5.66667 4.95833ZM5.66667 9.20833C4.72736 9.20833 3.82652 9.58147 3.16233 10.2457C2.49814 10.9099 2.125 11.8107 2.125 12.75C2.125 13.3136 2.34888 13.8541 2.7474 14.2526C3.14591 14.6511 3.68641 14.875 4.25 14.875H12.75C13.3136 14.875 13.8541 14.6511 14.2526 14.2526C14.6511 13.8541 14.875 13.3136 14.875 12.75C14.875 11.8107 14.5019 10.9099 13.8377 10.2457C13.1735 9.58147 12.2726 9.20833 11.3333 9.20833H5.66667Z" fill="#1C1C26"/>
</svg>


);

const MessageIcon = () => (
  <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.843125 3.36774C0.877596 3.30674 0.927638 3.25599 0.988141 3.22066C1.04864 3.18533 1.11744 3.1667 1.1875 3.16666H15.4375C16.1724 3.16666 16.8771 3.45858 17.3968 3.97821C17.9164 4.49785 18.2083 5.20262 18.2083 5.93749V13.0625C18.2083 13.7974 17.9164 14.5021 17.3968 15.0218C16.8771 15.5414 16.1724 15.8333 15.4375 15.8333H5.9375C5.20263 15.8333 4.49786 15.5414 3.97823 15.0218C3.45859 14.5021 3.16667 13.7974 3.16667 13.0625V7.63007L0.847875 3.76674C0.811819 3.70661 0.79238 3.63799 0.791545 3.56788C0.790711 3.49778 0.808511 3.42871 0.843125 3.36774ZM5.9375 5.73957C5.78003 5.73957 5.62901 5.80213 5.51766 5.91348C5.40631 6.02483 5.34375 6.17585 5.34375 6.33332C5.34375 6.4908 5.40631 6.64182 5.51766 6.75317C5.62901 6.86452 5.78003 6.92707 5.9375 6.92707H15.4375C15.595 6.92707 15.746 6.86452 15.8573 6.75317C15.9687 6.64182 16.0312 6.4908 16.0312 6.33332C16.0312 6.17585 15.9687 6.02483 15.8573 5.91348C15.746 5.80213 15.595 5.73957 15.4375 5.73957H5.9375ZM5.9375 8.51041C5.78003 8.51041 5.62901 8.57296 5.51766 8.68431C5.40631 8.79566 5.34375 8.94668 5.34375 9.10416C5.34375 9.26163 5.40631 9.41265 5.51766 9.524C5.62901 9.63535 5.78003 9.69791 5.9375 9.69791H15.4375C15.595 9.69791 15.746 9.63535 15.8573 9.524C15.9687 9.41265 16.0312 9.26163 16.0312 9.10416C16.0312 8.94668 15.9687 8.79566 15.8573 8.68431C15.746 8.57296 15.595 8.51041 15.4375 8.51041H5.9375ZM5.34375 11.875C5.34375 11.7175 5.40631 11.5665 5.51766 11.4551C5.62901 11.3438 5.78003 11.2812 5.9375 11.2812H12.6667C12.8241 11.2812 12.9752 11.3438 13.0865 11.4551C13.1979 11.5665 13.2604 11.7175 13.2604 11.875C13.2604 12.0325 13.1979 12.1835 13.0865 12.2948C12.9752 12.4062 12.8241 12.4687 12.6667 12.4687H5.9375C5.78003 12.4687 5.62901 12.4062 5.51766 12.2948C5.40631 12.1835 5.34375 12.0325 5.34375 11.875Z" fill="#1C1C26" />
  </svg>

);
function Navbar({ children }) {
  const navigate = useNavigate();
  const location = useLocation();
  const [anchorEl, setAnchorEl] = useState(null);
  const [mobileOpen, setMobileOpen] = useState(false);
  const isMobile = useMediaQuery("(max-width:900px)");
const {userData,logout} = useContextData();
 const data = useContextData();

  const handleMenuOpen = (event) => setAnchorEl(event.currentTarget);
  const handleMenuClose = () => setAnchorEl(null);

  let highlightTop = -1;
  if (location.pathname === "/shelter" || location.pathname === "/shelter/") highlightTop = 0;
  else if (location.pathname === "/shelter/dashboard") highlightTop = 0;
  else if (location.pathname === "/shelter/listing") highlightTop = 48;
  else if (location.pathname === "/shelter/request") highlightTop = 96;
  else if (location.pathname === "/shelter/logs") highlightTop = 144;
  else if (location.pathname === "/shelter/profile") highlightTop = 192;
  else if (location.pathname === "/shelter/messages") highlightTop = 240;

  const drawerContent = (
    <Box sx={{ height: "100%", bgcolor: "#E2E2E2", color: "text.primary" }}>
      <Box sx={{ display: "flex", alignItems: "center", pt: 2, pl: 1 }}>
      <Box sx={{ mx: 1 }}   component={NavLink}
              to="/">
            <svg width="179" height="44" viewBox="0 0 179 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                       <path d="M17.5 44C17.2448 44 17.0078 43.9814 16.7891 43.9443C16.5703 43.9072 16.3516 43.8515 16.1328 43.7772C11.2109 42.1063 7.29167 39.0156 4.375 34.5049C1.45833 29.9943 0 25.139 0 19.9392V9.41266C0 8.48439 0.264687 7.64895 0.794062 6.90633C1.32344 6.16371 2.00667 5.62532 2.84375 5.29114L15.9687 0.278481C16.4792 0.092827 16.9896 0 17.5 0C18.0104 0 18.5208 0.092827 19.0312 0.278481L32.1562 5.29114C32.9948 5.62532 33.6787 6.16371 34.2081 6.90633C34.7375 7.64895 35.0015 8.48439 35 9.41266V19.9392C35 25.1376 33.5417 29.9928 30.625 34.5049C27.7083 39.017 23.7891 42.1078 18.8672 43.7772C18.6484 43.8515 18.4297 43.9072 18.2109 43.9443C17.9922 43.9814 17.7552 44 17.5 44ZM17.5 39.5443C21.2917 38.319 24.4271 35.8684 26.9062 32.1924C29.3854 28.5165 30.625 24.4321 30.625 19.9392V9.41266L17.5 4.4L4.375 9.41266V19.9392C4.375 24.4321 5.61458 28.5165 8.09375 32.1924C10.5729 35.8684 13.7083 38.319 17.5 39.5443Z" fill="black" />
                       <path d="M13.8889 10C14.65 10 15.3483 10.2747 15.8567 10.7823C16.365 11.2905 16.6667 12.016 16.6667 12.8911C16.6667 13.762 16.3689 14.6361 15.8833 15.2977C15.4 15.9561 14.7 16.439 13.8889 16.439C13.0778 16.439 12.3778 15.9561 11.8944 15.2977C11.4089 14.6361 11.1111 13.762 11.1111 12.8917C11.1111 12.016 11.4128 11.2905 11.9217 10.7823C12.4294 10.2747 13.1278 10 13.8889 10ZM7.77778 14.8293C8.53889 14.8293 9.23722 15.104 9.74556 15.6116C10.2539 16.1198 10.5556 16.8452 10.5556 17.7204C10.5556 18.5913 10.2578 19.4654 9.77222 20.127C9.28889 20.7854 8.58889 21.2683 7.77778 21.2683C6.96667 21.2683 6.26667 20.7854 5.78333 20.127C5.29778 19.4654 5 18.5907 5 17.7209C5 16.8452 5.30167 16.1198 5.81056 15.6116C6.31833 15.104 7.01667 14.8293 7.77778 14.8293ZM17.5 18.5854C13.5422 18.5854 10.2633 21.8398 9.23111 25.9205C8.77333 27.7309 9.47167 29.6728 11.1939 30.5931C12.5622 31.325 14.61 32 17.4994 32C20.3894 32 22.4372 31.325 23.8061 30.5931C25.5278 29.6728 26.2261 27.7309 25.7683 25.921C24.7367 21.8398 21.4572 18.5854 17.5 18.5854ZM27.2222 14.8293C26.4611 14.8293 25.7628 15.104 25.255 15.6116C24.7461 16.1198 24.4444 16.8452 24.4444 17.7204C24.4444 18.5913 24.7422 19.4654 25.2278 20.127C25.7111 20.7854 26.4111 21.2683 27.2222 21.2683C28.0333 21.2683 28.7333 20.7854 29.2167 20.127C29.7022 19.4654 30 18.5913 30 17.7209C30 16.8452 29.6983 16.1198 29.19 15.6116C28.6817 15.104 27.9833 14.8293 27.2222 14.8293ZM21.1111 10C20.35 10 19.6517 10.2747 19.1439 10.7823C18.635 11.2905 18.3333 12.016 18.3333 12.8911C18.3333 13.762 18.6311 14.6361 19.1167 15.2977C19.6 15.9561 20.3 16.439 21.1111 16.439C21.9222 16.439 22.6222 15.9561 23.1056 15.2977C23.5911 14.6361 23.8889 13.762 23.8889 12.8917C23.8889 12.016 23.5872 11.2905 23.0789 10.7823C22.5706 10.2747 21.8722 10 21.1111 10Z" fill="black" />
                       <path d="M42.968 31V13.48H46.904V31H42.968ZM46.424 23.944V20.68H53.192V23.944H46.424ZM46.424 16.744V13.48H53.48V16.744H46.424ZM60.4342 31.408C58.9142 31.408 57.7462 30.92 56.9302 29.944C56.1142 28.952 55.7062 27.464 55.7062 25.48V17.848H59.5462V25.672C59.5462 26.376 59.7462 26.936 60.1462 27.352C60.5462 27.768 61.0822 27.976 61.7542 27.976C62.4422 27.976 63.0022 27.76 63.4342 27.328C63.8662 26.896 64.0822 26.312 64.0822 25.576V17.848H67.9222V31H64.8742V25.456H65.1382C65.1382 26.784 64.9622 27.896 64.6102 28.792C64.2742 29.672 63.7702 30.328 63.0982 30.76C62.4262 31.192 61.5942 31.408 60.6022 31.408H60.4342ZM71.4629 31V17.848H74.5109V23.488H74.4389C74.4389 21.632 74.8309 20.2 75.6149 19.192C76.4149 18.184 77.5669 17.68 79.0709 17.68H79.5749V20.992H78.6149C77.5589 20.992 76.7429 21.28 76.1669 21.856C75.5909 22.416 75.3029 23.232 75.3029 24.304V31H71.4629ZM88.0445 31.432C86.5885 31.432 85.3485 31.192 84.3245 30.712C83.3005 30.232 82.5165 29.568 81.9725 28.72C81.4285 27.872 81.1565 26.912 81.1565 25.84H83.5085C83.5085 26.368 83.6445 26.896 83.9165 27.424C84.2045 27.952 84.6765 28.392 85.3325 28.744C86.0045 29.096 86.9085 29.272 88.0445 29.272C89.1005 29.272 89.9645 29.12 90.6365 28.816C91.3085 28.496 91.8045 28.088 92.1245 27.592C92.4445 27.08 92.6045 26.528 92.6045 25.936C92.6045 25.216 92.2925 24.624 91.6685 24.16C91.0445 23.68 90.1325 23.384 88.9325 23.272L86.9885 23.104C85.4365 22.976 84.1965 22.496 83.2685 21.664C82.3405 20.832 81.8765 19.736 81.8765 18.376C81.8765 17.304 82.1325 16.368 82.6445 15.568C83.1725 14.768 83.9005 14.144 84.8285 13.696C85.7565 13.232 86.8365 13 88.0685 13C89.2845 13 90.3565 13.224 91.2845 13.672C92.2125 14.12 92.9325 14.752 93.4445 15.568C93.9725 16.368 94.2365 17.328 94.2365 18.448H91.8845C91.8845 17.888 91.7485 17.36 91.4765 16.864C91.2205 16.368 90.8125 15.96 90.2525 15.64C89.6925 15.32 88.9645 15.16 88.0685 15.16C87.2045 15.16 86.4845 15.312 85.9085 15.616C85.3485 15.92 84.9245 16.32 84.6365 16.816C84.3645 17.296 84.2285 17.816 84.2285 18.376C84.2285 19.016 84.4765 19.584 84.9725 20.08C85.4685 20.576 86.2045 20.864 87.1805 20.944L89.1245 21.112C90.3245 21.208 91.3565 21.464 92.2205 21.88C93.1005 22.28 93.7725 22.824 94.2365 23.512C94.7165 24.184 94.9565 24.992 94.9565 25.936C94.9565 27.008 94.6685 27.96 94.0925 28.792C93.5165 29.624 92.7085 30.272 91.6685 30.736C90.6285 31.2 89.4205 31.432 88.0445 31.432ZM98.5674 31V13.48H100.871V23.944H100.295C100.295 22.68 100.455 21.592 100.775 20.68C101.111 19.752 101.623 19.04 102.311 18.544C102.999 18.048 103.879 17.8 104.951 17.8H105.047C106.583 17.8 107.743 18.312 108.527 19.336C109.311 20.344 109.703 21.792 109.703 23.68V31H107.399V23.2C107.399 22.16 107.103 21.352 106.511 20.776C105.935 20.2 105.183 19.912 104.255 19.912C103.231 19.912 102.407 20.256 101.783 20.944C101.175 21.616 100.871 22.504 100.871 23.608V31H98.5674ZM114.543 31V18.184H116.847V31H114.543ZM112.575 20.008V18.184H116.847V20.008H112.575ZM115.191 16.12C114.679 16.12 114.295 15.984 114.039 15.712C113.799 15.44 113.679 15.096 113.679 14.68C113.679 14.264 113.799 13.92 114.039 13.648C114.295 13.376 114.679 13.24 115.191 13.24C115.703 13.24 116.079 13.376 116.319 13.648C116.575 13.92 116.703 14.264 116.703 14.68C116.703 15.096 116.575 15.44 116.319 15.712C116.079 15.984 115.703 16.12 115.191 16.12ZM126.75 31.432C125.63 31.432 124.662 31.24 123.846 30.856C123.03 30.472 122.366 29.968 121.854 29.344C121.342 28.704 120.958 27.992 120.702 27.208C120.462 26.424 120.342 25.624 120.342 24.808V24.376C120.342 23.544 120.462 22.736 120.702 21.952C120.958 21.168 121.342 20.464 121.854 19.84C122.366 19.2 123.014 18.696 123.798 18.328C124.598 17.944 125.534 17.752 126.606 17.752C127.998 17.752 129.142 18.056 130.038 18.664C130.95 19.256 131.622 20.024 132.054 20.968C132.502 21.912 132.726 22.92 132.726 23.992V25.024H121.35V23.296H131.046L130.518 24.232C130.518 23.32 130.374 22.536 130.086 21.88C129.798 21.208 129.366 20.688 128.79 20.32C128.214 19.952 127.486 19.768 126.606 19.768C125.694 19.768 124.934 19.976 124.326 20.392C123.734 20.808 123.286 21.376 122.982 22.096C122.694 22.816 122.55 23.648 122.55 24.592C122.55 25.504 122.694 26.328 122.982 27.064C123.286 27.784 123.75 28.36 124.374 28.792C124.998 29.208 125.79 29.416 126.75 29.416C127.758 29.416 128.574 29.192 129.198 28.744C129.838 28.296 130.222 27.776 130.35 27.184H132.51C132.334 28.064 131.982 28.824 131.454 29.464C130.926 30.104 130.262 30.592 129.462 30.928C128.662 31.264 127.758 31.432 126.75 31.432ZM136.141 31V13.48H138.445V31H136.141ZM134.365 15.304V13.48H138.445V15.304H134.365ZM148.216 31.432C147.304 31.432 146.464 31.264 145.696 30.928C144.928 30.592 144.256 30.12 143.68 29.512C143.12 28.904 142.68 28.2 142.36 27.4C142.056 26.6 141.904 25.736 141.904 24.808V24.376C141.904 23.464 142.056 22.608 142.36 21.808C142.664 21.008 143.088 20.304 143.632 19.696C144.192 19.088 144.848 18.616 145.6 18.28C146.368 17.928 147.216 17.752 148.144 17.752C149.12 17.752 150.008 17.96 150.808 18.376C151.608 18.776 152.264 19.408 152.776 20.272C153.288 21.136 153.576 22.256 153.64 23.632L152.68 22.096V13.48H154.984V31H153.16V25.312H153.832C153.768 26.768 153.464 27.952 152.92 28.864C152.376 29.76 151.688 30.416 150.856 30.832C150.04 31.232 149.16 31.432 148.216 31.432ZM148.528 29.416C149.312 29.416 150.024 29.24 150.664 28.888C151.304 28.536 151.816 28.032 152.2 27.376C152.584 26.704 152.776 25.92 152.776 25.024V23.92C152.776 23.04 152.576 22.296 152.176 21.688C151.792 21.064 151.272 20.592 150.616 20.272C149.976 19.936 149.272 19.768 148.504 19.768C147.656 19.768 146.904 19.968 146.248 20.368C145.608 20.768 145.104 21.328 144.736 22.048C144.384 22.768 144.208 23.616 144.208 24.592C144.208 25.568 144.392 26.424 144.76 27.16C145.128 27.88 145.64 28.44 146.296 28.84C146.952 29.224 147.696 29.416 148.528 29.416Z" fill="black" />
                     </svg>
        </Box>
      </Box>
      <Box sx={{ position: "relative", flex: 1, mt: 2 }}>
        {highlightTop !== -1 && (
          <Box
            sx={{
              position: "absolute",
              top: `${highlightTop}px`,
              left: "50%",
              transform: "translateX(-50%)",
              width: "95%",
              height: "48px",
              bgcolor: "#FE8756",
              borderRadius: "12px",
              transition: "top 0.3s ease",
              zIndex: 0,
              mt: 1,
            }}
          />
        )}
        <List>
          <ListItem disablePadding>
            <ListItemButton component={NavLink} to="/shelter/dashboard" sx={{ position: "relative", zIndex: 1 }}>
              <ListItemIcon sx={{ minWidth: 32 }}><DashboardIcon /></ListItemIcon>
              <ListItemText primary="Dashboard" />
            </ListItemButton>
          </ListItem>
          <ListItem disablePadding>
            <ListItemButton component={NavLink} to="/shelter/listing" sx={{ position: "relative", zIndex: 1 }}>
              <ListItemIcon sx={{ minWidth: 32 }}><AppointmentIcon /></ListItemIcon>
              <ListItemText primary="Adoption Listing" />
            </ListItemButton>
          </ListItem>
          <ListItem disablePadding>
            <ListItemButton component={NavLink} to="/shelter/request" sx={{ position: "relative", zIndex: 1 }}>
              <ListItemIcon sx={{ minWidth: 32 }}><PatientsIcon /></ListItemIcon>
              <ListItemText primary="Adoption Request" />
            </ListItemButton>
          </ListItem>
          <ListItem disablePadding>
            <ListItemButton component={NavLink} to="/shelter/logs" sx={{ position: "relative", zIndex: 1 }}>
              <ListItemIcon sx={{ minWidth: 32 }}><ReviewsIcon /></ListItemIcon>
              <ListItemText primary="Care Logs" />
            </ListItemButton>
          </ListItem>
          <ListItem disablePadding>
            <ListItemButton component={NavLink} to="/shelter/profile" sx={{ position: "relative", zIndex: 1 }}>
              <ListItemIcon sx={{ minWidth: 32 }}><Profile /></ListItemIcon>
              <ListItemText primary="Profile" />
            </ListItemButton>
          </ListItem>
      
        </List>
      </Box>
    </Box>
  );

  return (
    <Box sx={{ display: "flex", minHeight: "100vh" }}>
      {isMobile ? (
        <Drawer
          anchor="left"
          open={mobileOpen}
          onClose={() => setMobileOpen(false)}
          sx={{ "& .MuiDrawer-paper": { width: 240 } }}
        >
          {drawerContent}
        </Drawer>
      ) : (
        <Drawer
          variant="permanent"
          sx={{
            width: 240,
            flexShrink: 0,
            "& .MuiDrawer-paper": {
              width: 240,
              boxSizing: "border-box",
              bgcolor: "#E2E2E2",
              color: "text.primary",
              position: "relative",
            },
          }}
        >
          {drawerContent}
        </Drawer>
      )}

      <Box sx={{ flexGrow: 1 }}>
        <AppBar
          position="static"
          elevation={0}
          sx={{
            bgcolor: "#E2E2E2",
            borderBottom: "1px solid #eee",
            color: "text.primary",
            width: "100%",
          }}
        >
          <Toolbar sx={{ position: "relative" }}>
            {isMobile && (
              <IconButton onClick={() => setMobileOpen(true)} sx={{ mr: 2 }}>
                <MenuIcon />
              </IconButton>
            )}
            <Box sx={{ display: "flex", alignItems: "center", gap: 0, position: "absolute", right: 0 }}>
                <Typography variant="body2" fontWeight="400">
  {data?.userInfo?.name}
</Typography>

<IconButton onClick={handleMenuOpen}>
  {data?.userInfo?.imageUrl ? (
    <Avatar src={data.userInfo.imageUrl} />
  ) : (
    <Avatar>
      {data?.userInfo?.name?.charAt(0).toUpperCase() || "U"}
    </Avatar>
  )}
</IconButton>
              <Box sx={{ position: "relative", width: "25px", height: "25px", mr: 1 }}>
                <Box
                  sx={{
                    position: "absolute",
                    top: -3,
                    right: 6,
                    width: "8px",
                    height: "8px",
                    bgcolor: "red",
                    borderRadius: "50%",
                    zIndex: 1,
                  }}
                />
                <IconButton onClick={() => {}} sx={{ p: 0 }}>
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 23 27"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M11.0415 0C8.74813 0 6.54867 0.911049 4.92699 2.53273C3.30531 4.15441 2.39426 6.35387 2.39426 8.64727V13.0055C2.39444 13.1971 2.35003 13.3862 2.26455 13.5577L0.143499 17.7986C0.0398877 18.0057 -0.00903657 18.236 0.0013728 18.4674C0.0117822 18.6988 0.0811794 18.9237 0.202974 19.1208C0.324768 19.3178 0.494915 19.4805 0.697254 19.5933C0.899594 19.706 1.12741 19.7652 1.35906 19.7652H20.724C20.9557 19.7652 21.1835 19.706 21.3858 19.5933C21.5882 19.4805 21.7583 19.3178 21.8801 19.1208C22.0019 18.9237 22.0713 18.6988 22.0817 18.4674C22.0921 18.236 22.0432 18.0057 21.9396 17.7986L19.8198 13.5577C19.7338 13.3863 19.689 13.1972 19.6888 13.0055V8.64727C19.6888 6.35387 18.7778 4.15441 17.1561 2.53273C15.5344 0.911049 13.3349 0 11.0415 0ZM11.0415 23.4712C10.2748 23.4716 9.52687 23.2342 8.90074 22.7917C8.27461 22.3492 7.80113 21.7234 7.54556 21.0005H14.5375C14.2819 21.7234 13.8085 22.3492 13.1823 22.7917C12.5562 23.2342 11.8082 23.4716 11.0415 23.4712Z"
                      fill="black"
                    />
                  </svg>
                </IconButton>
              </Box>
              <Menu anchorEl={anchorEl} open={Boolean(anchorEl)} onClose={handleMenuClose}>
                <MenuItem onClick={() => navigate("/shelter/profile")}>
                  <ListItemIcon>
                    <AccountCircle fontSize="small" />
                  </ListItemIcon>
                  <ListItemText>Profile</ListItemText>
                </MenuItem>
                <MenuItem onClick={logout}>
                  <ListItemIcon>
                    <Logout fontSize="small" />
                  </ListItemIcon>
                  <ListItemText>Logout</ListItemText>
                </MenuItem>
              </Menu>
            </Box>
          </Toolbar>
        </AppBar>
        <Box p={3}>{children}</Box>
      </Box>
    </Box>
  );
}

export default Navbar;